from telegram import Update
from telegram.ext import CallbackContext
from modern_bot.handlers.common import safe_reply
from modern_bot.handlers.admin import is_admin

async def help_handler(update: Update, context: CallbackContext) -> None:
    user_id = update.effective_user.id
    
    if is_admin(user_id):
        # Admin help
        help_text = (
            "üõ† <b>–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</b>\n\n"
            "<b>1Ô∏è‚É£ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</b>\n"
            "‚Ä¢ <b>üìù –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–ª—é—á–µ–Ω–∏–µ</b> ‚Äî –∑–∞–ø—É—Å–∫ —Ñ–æ—Ä–º—ã —Å–æ–∑–¥–∞–Ω–∏—è\n"
            "‚Ä¢ <b>‚öôÔ∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</b> ‚Äî –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º\n\n"
            "<b>2Ô∏è‚É£ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø–∞–Ω–µ–ª–∏</b>\n"
            "‚Ä¢ <b>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</b> ‚Äî –æ–±—â–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏\n"
            "‚Ä¢ <b>üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</b> ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã (—Ä–µ–≥–∏–æ–Ω—ã/–¥–∞—Ç—ã)\n"
            "‚Ä¢ <b>üîé –ü–æ–∏—Å–∫</b> ‚Äî –Ω–∞–π—Ç–∏ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ –ø–æ –Ω–æ–º–µ—Ä—É –±–∏–ª–µ—Ç–∞\n"
            "‚Ä¢ <b>üì¶ –ê—Ä—Ö–∏–≤</b> ‚Äî –≤—ã–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∑–∞ –º–µ—Å—è—Ü\n"
            "‚Ä¢ <b>üìã –ò—Å—Ç–æ—Ä–∏—è</b> ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –¥–µ–π—Å—Ç–≤–∏–π\n"
            "‚Ä¢ <b>üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</b> ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º\n"
            "‚Ä¢ <b>üì¢ –†–∞—Å—Å—ã–ª–∫–∞</b> ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º\n"
            "‚Ä¢ <b>üñ•Ô∏è –°–∏—Å—Ç–µ–º–∞</b> ‚Äî —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞ –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –ë–î\n\n"
            "<b>3Ô∏è‚É£ ‚ôªÔ∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã</b>\n"
            "–ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–∫–∞—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–π —Ç–æ—á–∫–µ.\n"
            "‚úÖ <b>–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è:</b> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∏—Å—Ç–æ—Ä–∏—è, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞.\n"
            "‚ùå <b>–ù–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç—Å—è:</b> –§–∞–π–ª—ã —Ñ–æ—Ç–æ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.\n"
            "<i>–ü–µ—Ä–µ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å—Ç—Ä–∞—Ö–æ–≤–æ—á–Ω–∞—è –∫–æ–ø–∏—è —Ç–µ–∫—É—â–µ–π –±–∞–∑—ã.</i>\n\n"
            "<b>4Ô∏è‚É£ üîç –°–≤–µ—Ä–∫–∞ –±–∏–ª–µ—Ç–æ–≤</b>\n"
            "–ü–æ–∏—Å–∫ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –∑–∞–∫–ª—é—á–µ–Ω–∏–π –ø–æ –≤–∞—à–µ–º—É —Å–ø–∏—Å–∫—É.\n"
            "<b>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</b>\n"
            "1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É <b>üîç –°–≤–µ—Ä–∫–∞ –±–∏–ª–µ—Ç–æ–≤</b>\n"
            "2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª —Å–æ —Å–ø–∏—Å–∫–æ–º –±–∏–ª–µ—Ç–æ–≤\n\n"
            "<b>üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ñ–∞–π–ª—É:</b>\n"
            "‚Ä¢ –§–æ—Ä–º–∞—Ç: <b>.xlsx</b> (Excel) –∏–ª–∏ <b>.txt</b>\n"
            "‚Ä¢ <b>–í–∞–∂–Ω–æ:</b> –ù–æ–º–µ—Ä–∞ –±–∏–ª–µ—Ç–æ–≤ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ <b>–ø–µ—Ä–≤–æ–º —Å—Ç–æ–ª–±—Ü–µ</b> (–ê)\n"
            "‚Ä¢ –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è\n"
            "‚Ä¢ –ó–∞–≥–æ–ª–æ–≤–∫–∏ –º–æ–∂–Ω–æ –Ω–µ —É–¥–∞–ª—è—Ç—å (–±–æ—Ç –∏—Ö –ø—Ä–æ–ø—É—Å—Ç–∏—Ç)\n\n"
            "<b>üí° –í—Å—ë —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞–º–∏ ‚Äî –∫–æ–º–∞–Ω–¥—ã –≤–≤–æ–¥–∏—Ç—å –Ω–µ –Ω—É–∂–Ω–æ!</b>"
        )
    else:
        # User help
        help_text = (
            "ü§ñ <b>–°–ø—Ä–∞–≤–∫–∞ –ø–æ –±–æ—Ç—É</b>\n\n"
            "–≠—Ç–æ—Ç –±–æ—Ç –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è –∞–Ω—Ç–∏–∫–≤–∞—Ä–∏–∞—Ç–∞.\n\n"
            "<b>–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –∑–∞–∫–ª—é—á–µ–Ω–∏–µ:</b>\n"
            "1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É <b>üìù –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–ª—é—á–µ–Ω–∏–µ</b>\n"
            "2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:\n"
            "   ‚Ä¢ –ù–æ–º–µ—Ä –±–∏–ª–µ—Ç–∞\n"
            "   ‚Ä¢ –†–µ–≥–∏–æ–Ω –∏ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ\n"
            "   ‚Ä¢ –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–µ–¥–º–µ—Ç—ã —Å —Ñ–æ—Ç–æ\n"
            "3. –ù–∞–∂–º–∏—Ç–µ <b>–ü–†–û–í–ï–†–ò–¢–¨ –ò –û–¢–ü–†–ê–í–ò–¢–¨</b>\n"
            "4. –ü–æ–ª—É—á–∏—Ç–µ –≥–æ—Ç–æ–≤—ã–π DOCX —Ñ–∞–π–ª\n\n"
            "<b>‚ÑπÔ∏è –ü–æ–º–æ—â—å:</b>\n"
            "–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É."
        )
    
    await safe_reply(update, help_text, parse_mode="HTML")
