from telegram import Update
from telegram.ext import CallbackContext
from modern_bot.handlers.common import safe_reply
from modern_bot.handlers.admin import is_admin

async def help_handler(update: Update, context: CallbackContext) -> None:
    user_id = update.effective_user.id
    
    if is_admin(user_id):
        # Admin help
        help_text = (
            "üõ† <b>–°–ø—Ä–∞–≤–∫–∞ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</b>\n\n"
            "<b>üìù –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–ª—é—á–µ–Ω–∏–π:</b>\n"
            "‚Ä¢ –ù–∞–∂–º–∏—Ç–µ <b>üìù –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–ª—é—á–µ–Ω–∏–µ</b> –≤ –º–µ–Ω—é\n"
            "‚Ä¢ –ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ —á–µ—Ä–µ–∑ <b>‚öôÔ∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</b>\n\n"
            "<b>‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:</b>\n"
            "‚Ä¢ <b>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</b> - –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∑–∞–∫–ª—é—á–µ–Ω–∏—è–º\n"
            "‚Ä¢ <b>üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</b> - –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º, –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è–º, –¥–Ω—è–º\n"
            "‚Ä¢ <b>üîé –ü–æ–∏—Å–∫</b> - –ø–æ–∏—Å–∫ –∑–∞–∫–ª—é—á–µ–Ω–∏–π –ø–æ –Ω–æ–º–µ—Ä—É –±–∏–ª–µ—Ç–∞\n"
            "‚Ä¢ <b>üì¶ –ê—Ä—Ö–∏–≤</b> - —Å–∫–∞—á–∞—Ç—å –∞—Ä—Ö–∏–≤ –∑–∞ —Ç–µ–∫—É—â–∏–π/–ø—Ä–æ—à–ª—ã–π –º–µ—Å—è—Ü\n"
            "‚Ä¢ <b>üìã –ò—Å—Ç–æ—Ä–∏—è</b> - –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –∑–∞–∫–ª—é—á–µ–Ω–∏–π\n"
            "‚Ä¢ <b>üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</b> - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏\n"
            "‚Ä¢ <b>‚öôÔ∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã</b> - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∞–º–∏\n"
            "‚Ä¢ <b>üì¢ –†–∞—Å—Å—ã–ª–∫–∞</b> - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤—Å–µ–º\n"
            "‚Ä¢ <b>üîç –°–≤–µ—Ä–∫–∞ –±–∏–ª–µ—Ç–æ–≤</b> - –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–∫–ª—é—á–µ–Ω–∏–π\n"
            "‚Ä¢ <b>üñ•Ô∏è –°–∏—Å—Ç–µ–º–∞</b> - —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞, —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –ë–î\n"
            "‚Ä¢ <b>‚ôªÔ∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ</b> - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞:\n"
            "  1. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –∫–æ–ø–∏–π\n"
            "  2. –î–µ–ª–∞–µ—Ç –±—ç–∫–∞–ø —Ç–µ–∫—É—â–µ–π –±–∞–∑—ã –ø–µ—Ä–µ–¥ –∑–∞–º–µ–Ω–æ–π\n"
            "  3. –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—É—é –±–∞–∑—É\n"
            "  4. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç –±–æ—Ç–∞\n\n"
            "<b>üí° –í—Å—ë —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏ - –∫–æ–º–∞–Ω–¥—ã –Ω–µ –Ω—É–∂–Ω—ã!</b>"
        )
    else:
        # User help
        help_text = (
            "ü§ñ <b>–°–ø—Ä–∞–≤–∫–∞ –ø–æ –±–æ—Ç—É</b>\n\n"
            "–≠—Ç–æ—Ç –±–æ—Ç –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è –∞–Ω—Ç–∏–∫–≤–∞—Ä–∏–∞—Ç–∞.\n\n"
            "<b>–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –∑–∞–∫–ª—é—á–µ–Ω–∏–µ:</b>\n"
            "1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É <b>üìù –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–ª—é—á–µ–Ω–∏–µ</b>\n"
            "2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:\n"
            "   ‚Ä¢ –ù–æ–º–µ—Ä –±–∏–ª–µ—Ç–∞\n"
            "   ‚Ä¢ –†–µ–≥–∏–æ–Ω –∏ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ\n"
            "   ‚Ä¢ –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–µ–¥–º–µ—Ç—ã —Å —Ñ–æ—Ç–æ\n"
            "3. –ù–∞–∂–º–∏—Ç–µ <b>–ü–†–û–í–ï–†–ò–¢–¨ –ò –û–¢–ü–†–ê–í–ò–¢–¨</b>\n"
            "4. –ü–æ–ª—É—á–∏—Ç–µ –≥–æ—Ç–æ–≤—ã–π DOCX —Ñ–∞–π–ª\n\n"
            "<b>‚ÑπÔ∏è –ü–æ–º–æ—â—å:</b>\n"
            "–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É."
        )
    
    await safe_reply(update, help_text, parse_mode="HTML")
